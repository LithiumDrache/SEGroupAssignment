<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fashion Survey</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>
<body>
    <!-- Topbar -->
    <header>
        <div class="logo">
            <a href="{{ url_for('home') }}"><img src="{{ url_for('static', filename='images/logo.JPG') }}" alt="Fashy Logo"></a>
        </div>
        <nav>
            <ul>
                <li><a href="{{ url_for('home') }}">Home</a></li>
                <li><a href="{{ url_for('about') }}">About Us</a></li>
                <li><a href="{{ url_for('survey') }}">Survey</a></li>
            </ul>
        </nav>
    </header>

    <div id="survey-page">
        <form id="survey-form">
            <div id="email-step">
                <h1>Welcome to the Fashion Survey</h1>
                <p>Please enter your email to begin:</p>
                <input type="email" id="email" placeholder="Enter your email" required>
                <button type="button" id="email-btn">Start Survey</button>
                <p id="email-error-message" style="color: red; display: none;">Please enter a valid email address.</p>
            </div>

            <div id="gender-step" style="display: none;">
                <p>Please select your gender:</p>
                <label>
                    <input type="radio" name="gender" value="Female"> Female
                </label>
                <label>
                    <input type="radio" name="gender" value="Male"> Male
                </label>
                <label>
                    <input type="radio" name="gender" value="Gender Neutral"> Gender Neutral
                </label>
                <br>
                <button type="button" id="gender-btn">Next</button>
                <p id="gender-error-message" style="color: red; display: none;">Please select a gender.</p>
            </div>            

            <div id="location-step" style="display: none;">
                <p>Please select your location:</p>
                <select id="country" name="country" required>
                    <option value="" disabled selected>Select your country</option>
                    {% for country in countries %}
                        <option value="{{ country }}">{{ country }}</option>
                    {% endfor %}
                </select>
                <button type="button" id="location-btn">Next</button>
                <p id="error-message" style="color: red; display: none;">Please select a country.</p>
            </div>            
            <div id="genre-step" style="display: none">
                <p>Please enter a genre of clothing you want to wear:</p>
                <input type="text" id="genre" placeholder="Enter a genre" required>
                <button type="sumbit" id="genre-btn">Submit</button>
                <p id="error-message" style="color: red; display: none;">Please enter a genre.</p>
            </div>
        </form>
    </div>

    <script src="{{ url_for('static', filename='js/script.js') }}"></script>

    //RANDOM JS
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const emailStep = document.getElementById('email-step');
            const genderStep = document.getElementById('gender-step');
            const locationStep = document.getElementById('location-step');
            const genreStep = document.getElementById('genre-step');

            const emailBtn = document.getElementById('email-btn');
            const genderBtn = document.getElementById('gender-btn');
            const locationBtn = document.getElementById('location-btn');
            const surveyform = document.getElementById('survey-form');

            const emailError = document.getElementById('email-error-message');
            const genderError = document.getElementById('gender-error-message');
            const locationError = document.getElementById('location-error-message');
            const genreError = document.getElementById('genre-error-message');

            const surveyData = {};

            emailBtn.addEventListener('click', () => {
                const email = document.getElementById('email').value.trim();
                if (email && /\S+@\S+\.\S+/.test(email)) {
                    surveyData.email = email;
                    emailStep.style.display = 'none';
                    genderStep.style.display = 'block';
                } else {
                    emailError.style.display = 'block';
                }
            });

            genderBtn.addEventListener('click', () => {
                const selectedGender = document.querySelector('input[name="gender"]:checked');

                if (selectedGender) {
                    surveyData.gender = selectedGender.value;

                    genderStep.style.display = 'none';
                    locationStep.style.display = 'block';
                } else {
                    genderError.style.display = 'block';
                }
            });

            locationBtn.addEventListener('click', () => {
                const country = document.getElementById('country').value;
                if (country) {
                    surveyData.location = country;
                    locationStep.style.display = 'none';
                    genreStep.style.display = 'block';
                } else {
                    locationError.style.display = 'block';
                }
            });

            surveyForm.addEventListener('submit', (e) => {
                e.preventDefault();
                const genre = document.getElementById('genre').value.trim();
                if (genre) {
                    surveyData.genre = genre;
                    console.log('Survey Data:', surveyData);
                    alert('Survey submitted successfully!');
                    surveyForm.reset();
                } else {
                    genreError.style.display = 'block';
                }
            });
        });
    </script>








    <!-- document.addEventListener('DOMContentLoaded', () => {
        

        const emailStep = document.getElementById('email-step');
        const genderStep = document.getElementById('gender-step');
        const locationStep = document.getElementById('location-step');
        const genreStep = document.getElementById('genre-step');

        // Email form submission
        emailForm.addEventListener('submit', (e) => {
            e.preventDefault();
            const email = document.querySelector('#email').value;
            surveyData.email = email;
            emailStep.style.display = 'none';
            ageStep.style.display = 'block';
        });

        // Gender form submission
        genderForm.addEventListener('submit', (e) => {
            e.preventDefault();
            const gender = document.querySelector('input[name="gender"]:checked').value;
            surveyData.gender = gender;
            genderStep.style.display = 'none';
            fashionStep.style.display = 'block';
        });



        const fashionStep = document.getElementById('fashion-step');
        const recommendationStep = document.getElementById('recommendation-step');
        const recommendationsDiv = document.getElementById('recommendations');
    
        let surveyData = {};
    
        // Recommendation Database
        const recommendationDatabase = {
            Male: {
                Streetwear: {
                    stores: ["Supreme", "Foot Locker"],
                    websites: ["Hypebeast", "Urban Outfitters"],
                },
                Classic: {
                    stores: ["Brooks Brothers", "Ralph Lauren"],
                    websites: ["Banana Republic", "Nordstrom"],
                },
                Athletic: {
                    stores: ["Nike Store", "Adidas Store"],
                    websites: ["Under Armour", "Lululemon"],
                },
            },
            Female: {
                Chic: {
                    stores: ["Zara", "Mango"],
                    websites: ["Net-A-Porter", "Farfetch"],
                },
                Glamorous: {
                    stores: ["Anthropologie", "Nordstrom"],
                    websites: ["Revolve", "Chanel"],
                },
                Vintage: {
                    stores: ["Thrift Stores", "Retro City"],
                    websites: ["Depop", "Etsy"],
                },
            },
        };
    
    
        // Age form submission
        ageForm.addEventListener('submit', (e) => {
            e.preventDefault();
            const age = document.querySelector('input[name="age"]:checked').value;
            surveyData.age = age;
            ageStep.style.display = 'none';
            genderStep.style.display = 'block';
        });
    
        // Fashion form submission
        fashionForm.addEventListener('submit', (e) => {
            e.preventDefault();
            const fashion = Array.from(document.querySelectorAll('input[name="fashion"]:checked')).map(
                (input) => input.value
            );
            surveyData.fashion = fashion;
            fashionStep.style.display = 'none';
            showRecommendations();
        });
    
        // Function to display recommendations
        function showRecommendations() {
            const gender = surveyData.gender;
            const styles = surveyData.fashion;
    
            let storeRecommendations = [];
            let websiteRecommendations = [];
    
            // Get recommendations for each selected style
            styles.forEach((style) => {
                if (recommendationDatabase[gender] && recommendationDatabase[gender][style]) {
                    storeRecommendations.push(...recommendationDatabase[gender][style].stores);
                    websiteRecommendations.push(...recommendationDatabase[gender][style].websites);
                }
            });
    
            // Generate HTML for recommendations
            recommendationsDiv.innerHTML = `
                <h2>Recommended Stores:</h2>
                <ul>${storeRecommendations.map((store) => `<li>${store}</li>`).join('')}</ul>
                <h2>Recommended Websites:</h2>
                <ul>${websiteRecommendations
                    .map((website) => `<li><a href="https://${website.toLowerCase().replace(/ /g, "")}.com" target="_blank">${website}</a></li>`)
                    .join('')}
                </ul>
            `;
    
            recommendationStep.style.display = 'block';
        }
    
        // Update "Finish" button with Flask route
        document.querySelector('.finish-btn').addEventListener('click', () => {
            window.location.href = "{{ url_for('home') }}";
        });
    });
     -->
    
</body>
</html>
